"use strict";(self["webpackChunkgolden_ticket"]=self["webpackChunkgolden_ticket"]||[]).push([[681],{4681:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"container"}},[e("div",{attrs:{id:"take-part"}},[e("div",{staticClass:"tp-bg"}),"ru"===t.user.lang?e("div",{staticClass:"tp-title"},[t._v("Принять участие")]):e("div",{staticClass:"tp-title"},[t._v("Ishtrok etish")]),t._m(0),"ru"===t.user.lang?e("div",{staticClass:"tp-desc"},[t._v("В своём стремлении"),e("br"),t._v("улучшить пользовательский..")]):e("div",{staticClass:"tp-desc"},[t._v("O'z harakatingizbilan"),e("br"),t._v("Imkoniyatni oshiring")]),e("div",{staticClass:"tp-form"},[e("div",{staticClass:"btn tp-ticket-rm",attrs:{id:"removeTicket"},on:{click:function(e){e.preventDefault(),t.ticketCount<3||t.ticketCount--}}},[e("ion-icon",{attrs:{name:"remove"}})],1),e("div",{staticClass:"tp-ticket-count",attrs:{id:"countTicket"}},[t._v("2")]),e("div",{staticClass:"btn tp-ticket-add",attrs:{id:"addTicket"},on:{click:function(e){e.preventDefault(),t.ticketCount++}}},[e("ion-icon",{attrs:{name:"add"}})],1)])])])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tp-pic"},[e("img",{attrs:{src:i(7102),alt:"Take Part"}})])}],s=(i(2801),i(6265)),o=i.n(s),c={name:"Participation",data:()=>({user_id:0,user:null,ticketCount:2}),async mounted(){let t;document.title="Принять участие",this.user_id=Telegram.WebApp.initDataUnsafe.user.id,await o().get("https://server.gold-ticket.uz/api/user/"+this.user_id).then((t=>{this.user=t.data.data})).catch((t=>console.log(t))),t="ru"===this.user.lang?"Участвовать":"Qatnashish",Telegram.WebApp.MainButton.show(),Telegram.WebApp.MainButton.text=t,Telegram.WebApp.MainButton.textColor="#FFF",Telegram.WebApp.MainButton.color="#f2c058",Telegram.WebApp.MainButton.setParams({color:"#f2c058"}),Telegram.WebApp.MainButton.onClick((()=>this.buyTicket()))},methods:{async buyTicket(){let t;t="ru"===this.user.lang?"тикеты, купить чтобы увеличивающие шансы на выигрыш":"ticketlar, imkoniyatni oshirish uchun sotib olish";let e=decodeURIComponent(escape(window.atob("Ym90NTU1Njc3MjY0NjpBQUZGdXlQVVpuYjg4REd0Sm1vUHJPOUJXNUpFZjFyVGpMYw=="))),i=decodeURIComponent(escape(window.atob("Mzg3MDI2Njk2OkxJVkU6NjM2Y2Y5YjU3NGExMjNkNzA3MWVlNDk4")));await o().post(`https://api.telegram.org/${e}/createInvoiceLink`,{title:"Gold Ticket",description:`${this.ticketCount} * 2 500,00 ${t}`,payload:this.ticketCount,provider_token:i,currency:"UZS",max_tip_amount:1e9,prices:[{label:"Gold Ticket",amount:25e4*this.ticketCount}],photo_url:"https://gold-ticket.uz/bot/files/payment.jpg",photo_width:640,photo_height:360,need_phone_number:!0}).then((t=>{window.Telegram.WebApp.openInvoice(t.data.result)})).catch((t=>{const e=window.Telegram.WebApp;"ru"===this.user.lang?e.showPopup({title:"Учавствовать",message:"Произошла ошибка, повторите попытку больше ",buttons:[{id:"success",type:"ok",text:"Повторить"}]}):e.showPopup({title:"Qatnashish",message:"Tolo hisibi yaratishda hatolik yuz berdi!\n\n Keyinroq qayta urunib koring",buttons:[{id:"success",type:"ok",text:"Davom etish"}]})}))}},watch:{ticketCount(){document.getElementById("countTicket").innerText=this.ticketCount}}},r=c,u=i(1001),l=(0,u.Z)(r,a,n,!1,null,"e2b887cc",null),p=l.exports},7102:function(t,e,i){t.exports=i.p+"img/participation.eae2bd2e.svg"}}]);
//# sourceMappingURL=681.128dbff2.js.map