"use strict";(self["webpackChunkgolden_ticket"]=self["webpackChunkgolden_ticket"]||[]).push([[461],{109:function(t,a,e){e.d(a,{Z:function(){return u}});var i=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"bottom-navigation"}},t._l(t.nav,(function(e){return a("router-link",{key:e.name,staticClass:"btn",class:e.className&&t.active===e.className?"active":"",attrs:{tag:"div",to:"home"===e.className?"/":e.className}},[a("ion-icon",{staticClass:"btn-icon",attrs:{name:e.name}}),a("div",{staticClass:"btn-text"},[t._v(t._s(e.title))])],1)})),1)},s=[],n={name:"BottomNavigationMenu",props:{active:String},data:()=>({nav:[{className:"home",name:"home",title:"Главное"},{className:"participation",name:"ticket",title:"Участие"},{className:"market",name:"bag-handle",title:"Маркет"},{className:"partners",name:"star-half-outline",title:"Спонсоры"},{className:"profile",name:"person",title:"Профиль"}]})},c=n,o=e(1001),r=(0,o.Z)(c,i,s,!1,null,"92cb82b2",null),u=r.exports},8861:function(t,a,e){e.d(a,{Z:function(){return d}});var i=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"header"}},[a("div",{staticClass:"user-menu"},[a("div",{staticClass:"user-pic"},[a("img",{attrs:{src:t.photo,alt:t.first_name}})]),a("div",{staticClass:"user-name"},[t._v(t._s(this.first_name))])]),a("div",{staticClass:"user-tools"},[a("router-link",{staticClass:"btn-icon settings",attrs:{tag:"div",to:"/settings"}},[a("ion-icon",{staticClass:"ai-icon",attrs:{name:"cog-outline"}})],1)],1)])},s=[],n=e(6265),c=e.n(n),o={name:"HeaderUserBar",data:()=>({user_id:0,photo:"",first_name:""}),mounted(){const t=window.Telegram.WebApp.initDataUnsafe.user;this.user_id=t.id,c().get("https://back.sombra.uz/api/user/"+this.user_id).then((t=>{t.data.data&&(this.photo=t.data.data.photo,this.first_name=t.data.data.first_name)})).catch((t=>console.log(t)))}},r=o,u=e(1001),l=(0,u.Z)(r,i,s,!1,null,"c040d408",null),d=l.exports},5461:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var i=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"take-part"}},[a("div",{staticClass:"tp-bg"}),a("div",{staticClass:"tp-title"},[t._v("Принять участие")]),t._m(0),t._m(1),a("div",{staticClass:"tp-form"},[a("div",{staticClass:"btn tp-ticket-rm",attrs:{id:"removeTicket"},on:{click:function(a){a.preventDefault(),t.ticketCount<3||t.ticketCount--}}},[a("ion-icon",{attrs:{name:"remove"}})],1),a("div",{staticClass:"tp-ticket-count",attrs:{id:"countTicket"}},[t._v("2")]),a("div",{staticClass:"btn tp-ticket-add",attrs:{id:"addTicket"},on:{click:function(a){a.preventDefault(),t.ticketCount++}}},[a("ion-icon",{attrs:{name:"add"}})],1)]),a("div",{staticClass:"ticket-buy-btn",on:{click:t.createTicket}},[t._v("Участвовать")])]),a("BottomNavigationMenu",{attrs:{active:"participation"}})],1)},s=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"tp-pic"},[a("img",{attrs:{src:e(7102),alt:"Take Part"}})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"tp-desc"},[t._v("В своём стремлении"),a("br"),t._v("улучшить пользовательский..")])}],n=e(8861),c=e(109),o=e(6265),r=e.n(o),u={name:"Participation",data:()=>({user_id:0,ticketCount:2}),components:{HeaderUserBar:n.Z,BottomNavigationMenu:c.Z},mounted(){document.title="Принять участие";const t=window.Telegram.WebApp,a=t.initDataUnsafe.user;this.user_id=a.id},methods:{async createTicket(){const t=window.Telegram.WebApp;await r().post("https://back.sombra.uz/api/ticket/"+this.user_id,{tickets_count:this.ticketCount}).then((a=>{"success"===a.data.status&&0!==this.ticketCount?t.showPopup({title:"Участие",message:`Вам успешно начислили ${this.ticketCount} тикетов`,buttons:[{id:"success",type:"ok",text:"Продолжить"}]}):t.showPopup({title:"Участие",message:"Произлашло ошибка, повторите позже",buttons:[{id:"error",type:"ok",text:"Повторить"}]}),this.ticketCount=0})).catch((()=>{this.ticketCount=0}))}},watch:{ticketCount(){document.getElementById("countTicket").innerText=this.ticketCount}}},l=u,d=e(1001),m=(0,d.Z)(l,i,s,!1,null,"2b6c49cc",null),p=m.exports},7102:function(t,a,e){t.exports=e.p+"img/participation.eae2bd2e.svg"}}]);
//# sourceMappingURL=461.400297ee.js.map